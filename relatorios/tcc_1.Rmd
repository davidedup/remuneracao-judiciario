---
title: "TCC: Remuneração dos sistema judiciário brasileiro"

output:
  prettydoc::html_pretty:
    theme: cayman
    css: '/home/david/Área de Trabalho/tcc/stylesheets/style.css'
    highlight: github
    df_print: paged
---


```{r setup, echo=FALSE, warning=FALSE, message=FALSE}
library(tidyverse)
library(here)
library(kableExtra)
theme_set(theme_bw())
library(genderBR)
options(scipen=999)
```

# Dados do Sistema de Justiça Brasileiro

A Lei Federal 12.527/2011, ou mais comumente conhecida como Lei de Acesso à Informação (LAI), diz que é “obrigatória a divulgação em sítios oficiais da rede mundial de computadores (internet)” dos dados de gastos públicos. Por isso, órgãos que fazem parte do sistema de justiça periodicamente disponibilizam em seus sites informações detalhada sobre seus gastos, que são disponíveis para todos. Uma parte importante desses gastos são as remunerações dos trabalhadores e trabalhadoras desses órgãos.
Os agentes públicos do sistema de justiça brasileiro recebem outras verbas, além de seus salários, para exercerem seus cargos. Dentre elas encontramos auxílio moradia, despesas com saúde, auxílio transporte, gratificações, diárias, entre outros benefícios. Dados detalhados sobre essas remunerações devem ser disponibilizados nos sites de cada órgão. 
Devido a grande quantidade de auxílios é importante ter um controle sobre esses gastos e verificar a moralidade e legitimidades do recebimento desses benefícios.

## Remunerção x salário

As remunerações¹ incluem valores que vão além do salário². Os conhecidos auxílios ou indenizações, são gastos eventuais que podem constituir as remunerações. Auxílios como alimentação, pré escolar, saúde, natalidade, moradia e ajuda de custo, são exemplos de indenizações que podem ser recebidas por funcionários dos tribunais e ministérios públicos do Brasil

* ¹Remuneração: é a soma do salário mais outras vantagens (indenizações e auxílios).

* ²Salário: valor recebido de acordo com a prestação de serviços, em decorrência do contrato de trabalho.

## Descrição dos dados

Os dados utilizados nessa análise foram conseguidos através da iniciativa do DadosJusBR, que teve início no Hackfest (2018) e até hoje desenvolve trabalhos de libertação dos dados de remuneração do sistema de justiça brasileiro.  

Abaixo temos um descrição das principais variáveis que estão disponíveis nos dados:

* subsidio = Salário recebido pelo magistrado
* direitos_pessoais = Total recebido através de direitos pessoais       
* indenizações = Total recebido através de indenizações
* direitos_eventuais = Total recebido através de direitos eventuais
* total_descontos = Somatório de todos os descontos aplicados à remuneração do Magistrado
* rendimento_liquido = Subsídios + Adicionais - Descontos

# Como são as remunerações dos magistrados:

### 2016
```{r echo = FALSE, message = FALSE, warning = FALSE, cache = FALSE, paged.print = FALSE}
dados_2016 = read_csv(here("dados/2016-12-datapackage/data.csv"),  col_types = "ccccddddddddddddddddddddddddcdddddddddcdddc")
dados_2016 <- dados_2016 %>% mutate(mes = 12) %>% mutate(ano = 2016)
dados_2016$genero <- get_gender(dados_2016$nome)
```


```{r echo = FALSE, message = FALSE, warning = FALSE, cache = FALSE, paged.print = FALSE}
#Distribuição dos salários
dados_2016 %>%
  ggplot(aes(x=" ", y=subsidio)) +
  geom_violin() +
  theme_minimal() + 
  scale_color_brewer(palette = "Set2") +
  scale_y_log10(labels = scales::comma, breaks=c(5000, 10000, 15000, 20000,25000, 35000, 50000, 65000)) +
  ggbeeswarm::geom_quasirandom(shape=16, alpha= 0.7,position=position_jitter(0.2)) +
  stat_summary(fun.y = mean, colour = "#F25E4B", geom = "point", size = 3) +
  labs(x="", y = "Salário", title = "Distribuição dos salários recebido pelos magistrados em dezembro de 2016") 


salario_min_2016 <- dados_2016 %>%  filter(subsidio > 0) %>% pull(subsidio) %>% min()
salario_max_2016 <- dados_2016 %>%pull(subsidio) %>% max()
mediana_salarial_2016 <- dados_2016 %>%pull(subsidio) %>% median() %>% round(2)
media_salarial_2016 <- dados_2016 %>%pull(subsidio) %>% mean() %>% round(2)
```

Analisando o ano de 2016 podemos observar que o salário mais baixo recebido foi de **`r salario_min_2016`** por uma pensionista do	Tribunal de Justiça do Estado do Acre isso é equivalente a 5,75 salários mínimos. Já o salário mais alto foi de **`r salario_max_2016`** recebido por uma desembargadora federal do trabalho, esse valor é equivalente a 66,4 salários mínimos.  

A média salarial foi de **`r media_salarial_2016`** com uma mediana de **`r mediana_salarial_2016`** 

```{r echo = FALSE, message = FALSE, warning = FALSE, cache = FALSE, paged.print = FALSE}
#Distribuição dos salários
dados_2016 %>%
  drop_na(genero) %>% 
  ggplot(aes(x=genero, y=subsidio, color=genero)) +
  geom_violin() +
  theme_minimal() + 
  scale_color_brewer(palette = "Set2") +
  scale_y_log10(labels = scales::comma, breaks=c(5000, 10000, 15000, 20000,25000, 35000, 50000, 65000)) +
  ggbeeswarm::geom_quasirandom(shape=16, alpha= 0.7,position=position_jitter(0.2)) +
  stat_summary(fun.y = mean, colour = "#000000", geom = "point", size = 3) +
  labs(x="", y = "Salário", title = "Distribuição dos salários de acordo com o genêro em dezembro de 2016") 


total_homem <- dados_2016 %>% drop_na(genero) %>% filter(genero == "Male") %>% count() %>%  pull(n)
total_mulher <- dados_2016 %>% drop_na(genero) %>% filter(genero == "Female") %>% count() %>%  pull(n)
media_salarial_mulher_2016 <- dados_2016 %>% drop_na(genero) %>% filter(genero == "Female") %>% pull(subsidio) %>%  mean() %>% round(2)
media_salarial_homem_2016 <- dados_2016 %>% drop_na(genero) %>% filter(genero == "Male") %>% pull(subsidio)  %>% mean() %>% round(2)

```

O total de funcionárias é de **`r total_mulher`**, enquanto o de funcionários é de **`r total_homem`**. Existem o dobro de funcionários do que de funcionárias no sistema de justiça brasileiro em dezembro de 2016. A média salárial para as mulheres é de **`r media_salarial_mulher_2016`** e para os homems é de **`r media_salarial_homem_2016`**.  

### 2017

```{r echo = FALSE, message = FALSE, warning = FALSE, cache = FALSE, paged.print = FALSE}
dados_11_2017 = read_csv(here("dados/2017-11-datapackage/data.csv"),  col_types = "ccccddddddddddddddddddddddddcdddddddddcdddc")
dados_11_2017 <- dados_11_2017 %>% mutate(mes = 11) %>% mutate(ano = 2017)

dados_12_2017 = read_csv(here("dados/2017-11-datapackage/data.csv"),  col_types = "ccccddddddddddddddddddddddddcdddddddddcdddc")

dados_12_2017 <- dados_12_2017 %>% mutate(mes = 12) %>% mutate(ano = 2017)

dados_2017 <- bind_rows(dados_11_2017, dados_12_2017)

#summary(dados_2017)
```
### 2018

```{r echo = FALSE, message = FALSE, warning = FALSE, cache = FALSE, paged.print = FALSE}
dados_1_2018 = read_csv(here("dados/2018-1-datapackage/data.csv"),  col_types = "ccccddddddddddddddddddddddddcdddddddddcdddc") %>% mutate(mes = 1) %>% mutate(ano = 2018)

dados_2_2018 = read_csv(here("dados/2018-2-datapackage/data.csv"),  col_types = "ccccddddddddddddddddddddddddcdddddddddcdddc") %>% mutate(mes = 2) %>% mutate(ano = 2018)

dados_3_2018 = read_csv(here("dados/2018-3-datapackage/data.csv"),  col_types = "ccccddddddddddddddddddddddddcdddddddddcdddc") %>% mutate(mes = 3) %>% mutate(ano = 2018)

dados_4_2018 = read_csv(here("dados/2018-4-datapackage/data.csv"),  col_types = "ccccddddddddddddddddddddddddcdddddddddcdddc") %>% mutate(mes = 4) %>% mutate(ano = 2018)

dados_5_2018 = read_csv(here("dados/2018-5-datapackage/data.csv"),  col_types = "ccccddddddddddddddddddddddddcdddddddddcdddc") %>% mutate(mes = 5) %>% mutate(ano = 2018)

dados_6_2018 = read_csv(here("dados/2018-6-datapackage/data.csv"),  col_types = "ccccddddddddddddddddddddddddcdddddddddcdddc") %>% mutate(mes = 6) %>% mutate(ano = 2018)

dados_7_2018 = read_csv(here("dados/2018-7-datapackage/data.csv"),  col_types = "ccccddddddddddddddddddddddddcdddddddddcdddc") %>% mutate(mes = 7) %>% mutate(ano = 2018)

dados_8_2018 = read_csv(here("dados/2018-8-datapackage/data.csv"),  col_types = "ccccddddddddddddddddddddddddcdddddddddcdddc") %>% mutate(mes = 8) %>% mutate(ano = 2018)

dados_9_2018 = read_csv(here("dados/2018-9-datapackage/data.csv"),  col_types = "ccccddddddddddddddddddddddddcdddddddddcdddc") %>% mutate(mes = 9) %>% mutate(ano = 2018)

dados_10_2018 = read_csv(here("dados/2018-10-datapackage/data.csv"),  col_types = "ccccddddddddddddddddddddddddcdddddddddcdddc") %>% mutate(mes = 10) %>% mutate(ano = 2018)

dados_11_2018 = read_csv(here("dados/2018-11-datapackage/data.csv"),  col_types = "ccccddddddddddddddddddddddddcdddddddddcdddc") %>% mutate(mes = 11) %>% mutate(ano = 2018)

dados_12_2018 = read_csv(here("dados/2018-12-datapackage/data.csv"),  col_types = "ccccddddddddddddddddddddddddcdddddddddcdddc") %>% mutate(mes = 12) %>% mutate(ano = 2018)


dados_2018 <- bind_rows(dados_1_2018, dados_2_2018, dados_3_2018, dados_4_2018, dados_5_2018, dados_6_2018, dados_7_2018, dados_9_2018, dados_10_2018, dados_11_2018, dados_12_2018)

#summary(dados_2018)
```

### 2019
```{r echo = FALSE, message = FALSE, warning = FALSE, cache = FALSE, paged.print = FALSE}

dados_1_2019 = read_csv(here("dados/2019-1-datapackage/data.csv"),  col_types = "ccccddddddddddddddddddddddddcdddddddddcdddc") %>% mutate(mes = 1) %>% mutate(ano = 2019)

dados_2_2019 = read_csv(here("dados/2019-2-datapackage/data.csv"),  col_types = "ccccddddddddddddddddddddddddcdddddddddcdddc") %>% mutate(mes = 2) %>% mutate(ano = 2019)

dados_12_2019 = read_csv(here("dados/2019-12-datapackage/data.csv"),  col_types = "ccccddddddddddddddddddddddddcdddddddddcdddc") %>% mutate(mes = 12) %>% mutate(ano = 2019)

dados_2019 <-  bind_rows(dados_1_2019, dados_2_2019, dados_12_2019)

#summary(dados_2019)
```


### Planos

* Grafico de barras stacked para ver o quanto de gasta com indenização salario e outros
* Mostrar média salaria por mês do sistema de justiça x executivo x legislativo
* Ditribuição dos auxilios, quais os mais utilizados? quais os que são mais gatos?
* distribuição das remunerção e descrever alguns outiliers
* Média salarial comparada com algumas outras profissões
* Questões de genêro

